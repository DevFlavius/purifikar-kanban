generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model production_orders {
  id           BigInt    @id
  id_produto   BigInt
  cod_produto  String?   @db.VarChar(50)
  nome_produto String?   @db.VarChar(255)
  etapa        Int?   
  quant_total  Int?
  op_num       String?   @db.VarChar(20)
  dt_previsao  DateTime? @db.Date
  observacao   String?   @db.Text
  componentes  Json?

  @@map("production_orders")
}

model integration_logs {
  uuid       String   @id @default(uuid()) @db.Uuid
  created_at DateTime @default(now())
  origem     String
  payload    Json
  status     IntegrationStatus
  response   String?    // Resposta da API (erro, etc.)
  contexto   String?    // Coment√°rios adicionais
  foreign_id String?  @unique
}

enum IntegrationStatus {
  EM_PROCESSO
  ERRO
  SUCESSO
}